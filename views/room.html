<div class="alert alert-danger" ng-cloak ng-show="errorMessage != ''">
	{{errorMessage}}
</div>
<div class="form-group">
	<button type="button" class="btn btn-primary" ng-click="partRoom()">Part</button>
</div>

<h3>Hi {{currentUser}} - Room {{currentRoom}}</h3>
<div class="col-md-9">
	<ul ng-repeat="message in messages">
		<li>{{currentUser}} : </li>
	</ul>
</div>
<div class="well">
	<ul ng-repeat="m in msg">
		<li>{{m.timestamp | amDateFormat:' h:mm a'}}----{{m.nick}}: {{m.message}}</li>
	</ul>
</div>
<div class="form-group">
	<label for="message" class="control-label">Message</label>
	<input type="text" class="form-control" id="message" name="message" ng-model="message" />
	<button type="button" class="btn btn-primary" ng-click="sendMessage()">Send</button>
</div>

<div class="col-md-3">
	<h4>Users in this room</h4>
	<div class="well">	
		<ul>
			<li ng-repeat="user in currentUsers">
				<button type="button" ng-click="showPrivateMsg(user);">{{user}}</button>
			</li>
		</ul>
	</div>
</div>
<div class="col-md-9" ng-show="showprivate != false	|| boolReceiver != false">
	<label for="privmsg" class="form-control">Chat history with {{receiver}}</label>
	<input type="text" class="form-control" id="privmsg" name="privmsg" ng-model="privmsg"/>
	<button type="button" class="btn btn-primary" ng-click="sendPrivate()">Send</button>
	<ul ng-show="showMyMsg != false || boolReceiver != false">
		<li ng-repeat="pm in privateMessage" ng-if="(currentUser === pm.receiver && receiver === pm.sender) || (currentUser === pm.sender && receiver === pm.receiver)">{{pm.receiver}}: {{pm.message}} :{{pm.sender}}</li>
	</ul>
</div>